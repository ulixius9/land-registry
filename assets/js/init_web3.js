var contract;
if (typeof web3 !== 'undefined') {
    web3 = new Web3(web3.currentProvider);
    console.log("inside if");
} 
else {
    web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:7545"));
    console.log("inside else");
}
var abi = [ { "constant": false, "inputs": [ { "name": "_newAdmin", "type": "address" }, { "name": "_name", "type": "string" }, { "name": "_aadhar", "type": "uint256" } ], "name": "addNewAdmin", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "name": "_newSuperAdmin", "type": "address" }, { "name": "_name", "type": "string" }, { "name": "_aadhar", "type": "uint256" } ], "name": "addNewSuperAdmin", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "name": "_newUser", "type": "address" }, { "name": "_name", "type": "string" }, { "name": "_aadhar", "type": "uint256" } ], "name": "addNewUser", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "name": "_propId", "type": "uint256" } ], "name": "approveChangeOwnership", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "name": "_propId", "type": "uint256" } ], "name": "approveProperty", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "name": "_newUser", "type": "address" } ], "name": "approveUsers", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "name": "_propId", "type": "uint256" }, { "name": "_newOwner", "type": "address" } ], "name": "changeOwnership", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "name": "_propId", "type": "uint256" }, { "name": "_newValue", "type": "uint256" } ], "name": "changeValue", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "name": "_value", "type": "uint256" }, { "name": "_add", "type": "string" }, { "name": "_owner", "type": "address" } ], "name": "createProperty", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "name": "_propId", "type": "uint256" } ], "name": "rejectProperty", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }, { "constant": true, "inputs": [], "name": "checkAdmin", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "creatorAdmin", "outputs": [ { "name": "", "type": "address" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "getAddUserList", "outputs": [ { "name": "", "type": "address[]" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "getCurrentAccountAdd", "outputs": [ { "name": "", "type": "address" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "getMyProperties", "outputs": [ { "components": [ { "name": "id", "type": "uint256" }, { "name": "status", "type": "uint8" }, { "name": "value", "type": "uint256" }, { "name": "add", "type": "string" }, { "name": "currOwner", "type": "address" } ], "name": "", "type": "tuple[100]" }, { "name": "", "type": "uint256" }, { "components": [ { "name": "name", "type": "string" }, { "name": "aadhar", "type": "uint256" } ], "name": "", "type": "tuple" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [ { "name": "_propId", "type": "uint256" } ], "name": "getPropertyDetails", "outputs": [ { "name": "", "type": "uint8" }, { "name": "", "type": "uint256" }, { "name": "", "type": "address" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "getPropertyListForOwnershipChange", "outputs": [ { "components": [ { "name": "id", "type": "uint256" }, { "name": "status", "type": "uint8" }, { "name": "value", "type": "uint256" }, { "name": "add", "type": "string" }, { "name": "currOwner", "type": "address" } ], "name": "", "type": "tuple[100]" }, { "components": [ { "name": "name", "type": "string" }, { "name": "aadhar", "type": "uint256" } ], "name": "", "type": "tuple[100]" }, { "components": [ { "name": "name", "type": "string" }, { "name": "aadhar", "type": "uint256" } ], "name": "", "type": "tuple[100]" }, { "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "getPropertyListToBeApproved", "outputs": [ { "components": [ { "name": "id", "type": "uint256" }, { "name": "status", "type": "uint8" }, { "name": "value", "type": "uint256" }, { "name": "add", "type": "string" }, { "name": "currOwner", "type": "address" } ], "name": "", "type": "tuple[100]" }, { "components": [ { "name": "name", "type": "string" }, { "name": "aadhar", "type": "uint256" } ], "name": "", "type": "tuple[100]" }, { "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "getPropertyListToBeApprovedNew", "outputs": [ { "components": [ { "name": "id", "type": "uint256" }, { "name": "status", "type": "uint8" }, { "name": "value", "type": "uint256" }, { "name": "add", "type": "string" }, { "name": "currOwner", "type": "address" } ], "name": "", "type": "tuple[100]" }, { "components": [ { "name": "name", "type": "string" }, { "name": "aadhar", "type": "uint256" } ], "name": "", "type": "tuple[100]" }, { "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [ { "name": "_add", "type": "address" } ], "name": "getUserDetails", "outputs": [ { "components": [ { "name": "name", "type": "string" }, { "name": "aadhar", "type": "uint256" } ], "name": "", "type": "tuple" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "getUserListToBeApproved", "outputs": [ { "name": "", "type": "address[100]" }, { "components": [ { "name": "name", "type": "string" }, { "name": "aadhar", "type": "uint256" } ], "name": "", "type": "tuple[100]" }, { "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [ { "name": "", "type": "uint256" } ], "name": "properties", "outputs": [ { "name": "id", "type": "uint256" }, { "name": "status", "type": "uint8" }, { "name": "value", "type": "uint256" }, { "name": "add", "type": "string" }, { "name": "currOwner", "type": "address" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "propertyCount", "outputs": [ { "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [ { "name": "", "type": "uint256" } ], "name": "propOwnerChange", "outputs": [ { "name": "", "type": "address" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "testAtr", "outputs": [ { "name": "", "type": "address[]" }, { "name": "", "type": "address[]" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "testConn", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "pure", "type": "function" }, { "constant": true, "inputs": [ { "name": "", "type": "address" } ], "name": "user_details", "outputs": [ { "name": "name", "type": "string" }, { "name": "aadhar", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [ { "name": "", "type": "address" } ], "name": "users", "outputs": [ { "name": "", "type": "int256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [ { "name": "", "type": "address" } ], "name": "verifiedUsers", "outputs": [ { "name": "", "type": "bool" } ], "payable": false, "stateMutability": "view", "type": "function" } ];
var contractAddress = '0xb99b57d6aa757df7f0ce30b3b04f1ceae902a601';
contract =  new web3.eth.Contract(abi, contractAddress);
var accounts = web3.eth.getAccounts();
web3.eth.defaultAccount = accounts[0];
contract.methods.testConn().call().then(console.log);